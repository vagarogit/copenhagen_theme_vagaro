class t{constructor(t={}){this.options={ctaUrl:t.ctaUrl||"https://www.vagaro.com/signup-1?licence=1",ctaText:t.ctaText||"Start Free Trial",heroSelector:t.heroSelector||"[data-hero-section]",topOffset:t.topOffset||"60px"},this.state={isHeroVisible:!0,isScrollingDown:!1},this.lastScrollY=window.scrollY,this.SCROLL_THRESHOLD=10,this.banner=null,this.observer=null,this.init()}init(){window.innerWidth>=1024||(this.createBanner(),this.setupScrollListener(),this.setupHeroObserver(),this.setupResizeListener())}createBanner(){this.banner=document.createElement("div"),this.banner.id="mobile-cta-banner",this.banner.className="fixed left-0 right-0 z-40 transition-all duration-300 ease-out lg:hidden pointer-events-none -translate-y-full opacity-0",this.banner.style.top=this.options.topOffset,this.banner.setAttribute("aria-hidden","true"),this.banner.innerHTML=`\n      <div class="mobile-cta-banner__glass-container px-3 pb-2.5 pt-3">\n        <div class="mobile-cta-banner__content flex items-center justify-center">\n          <a\n            href="${this.options.ctaUrl}"\n            class="flex items-center justify-center bg-primary hover:bg-charcoal text-white font-semibold py-2 px-8 rounded-full w-auto md:w-[152px] h-[40px] transition-colors text-sm md:text-base"\n            aria-label="${this.options.ctaText}"\n            id="dynamic-cta"\n          >\n            <span>${this.options.ctaText}</span>\n          </a>\n        </div>\n      </div>\n    `,document.body.appendChild(this.banner)}setupScrollListener(){window.addEventListener("scroll",(()=>{const t=window.scrollY,e=t-this.lastScrollY;if(t<100)return this.state.isScrollingDown=!1,this.lastScrollY=t,void this.updateBannerVisibility();Math.abs(e)>=this.SCROLL_THRESHOLD&&(this.state.isScrollingDown=e>0,this.lastScrollY=t,this.updateBannerVisibility())}),{passive:!0})}setupHeroObserver(){const t=document.querySelector(this.options.heroSelector);if(t)this.observer=new IntersectionObserver((([t])=>{this.state.isHeroVisible=t.isIntersecting,this.updateBannerVisibility()}),{threshold:0,rootMargin:"0px"}),this.observer.observe(t);else{const t=()=>{this.state.isHeroVisible=window.scrollY<100,this.updateBannerVisibility()};window.addEventListener("scroll",t,{passive:!0})}}setupResizeListener(){window.addEventListener("resize",(()=>{const t=window.innerWidth<1024;!t&&this.banner?this.destroy():t&&!this.banner&&this.init()}))}updateBannerVisibility(){if(!this.banner)return;!this.state.isHeroVisible&&this.state.isScrollingDown?(this.banner.classList.remove("pointer-events-none","-translate-y-full","opacity-0"),this.banner.classList.add("translate-y-0","opacity-100"),this.banner.setAttribute("aria-hidden","false")):(this.banner.classList.add("pointer-events-none","-translate-y-full","opacity-0"),this.banner.classList.remove("translate-y-0","opacity-100"),this.banner.setAttribute("aria-hidden","true"))}destroy(){this.banner&&(this.banner.remove(),this.banner=null),this.observer&&(this.observer.disconnect(),this.observer=null)}}!function(){let e=null;function i(){if(!e)try{e=new t({ctaUrl:"https://www.vagaro.com/signup-1?licence=1",ctaText:"Start Free Trial",heroSelector:"[data-hero-section]",topOffset:"60px"})}catch(i){}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i(),window.initMobileCtaBanner=i,window.cleanupMobileCtaBanner=function(){e&&(e.destroy(),e=null)}}();
